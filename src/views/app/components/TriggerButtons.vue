<template>
  <!-- å§‹ç»ˆå¯è§çš„è§¦å‘åŒºåŸŸ -->
  <div
    class="panel-trigger w-[50px] h-[140px] flex flex-col items-center justify-center cursor-pointer rounded-l-xl backdrop-blur-[10px] gap-1.5"
    :class="dynamicColors.triggerBg"
  >
    <!-- å¤œé—´æ¨¡å¼åˆ‡æ¢æŒ‰é’® -->
    <div
      @click="onToggleDarkMode"
      class="p-1.5 rounded-md transition-all duration-200 ease-in-out cursor-pointer hover:scale-110"
      :class="isDarkMode ? 'bg-yellow-500/30' : 'bg-slate-600/20'"
      :title="isDarkMode ? 'åˆ‡æ¢åˆ°æ—¥é—´æ¨¡å¼' : 'åˆ‡æ¢åˆ°å¤œé—´æ¨¡å¼'"
    >
      {{ isDarkMode ? 'â˜€ï¸' : 'ğŸŒ™' }}
    </div>

    <!-- å›ºå®š/å–æ¶ˆå›ºå®šæŒ‰é’® -->
    <div
      @click="onTogglePanelPin"
      class="p-1.5 rounded-md transition-all duration-200 ease-in-out cursor-pointer hover:scale-110"
      :class="panelPinned ? 'bg-blue-500/30' : 'bg-white/10'"
      :title="panelPinned ? 'å–æ¶ˆå›ºå®š' : 'å›ºå®šé¢æ¿'"
    >
      {{ panelPinned ? 'ğŸ“Œ' : 'ğŸ“' }}
    </div>

    <!-- è°ƒè¯•ä¿¡æ¯æŒ‰é’® -->
    <div
      v-if="isDebugMode"
      @click="onToggleDebugDialog"
      class="p-1.5 rounded-md bg-purple-500/20 transition-all duration-200 ease-in-out cursor-pointer hover:scale-110"
      title="è°ƒè¯•ä¿¡æ¯"
    >
      ğŸ›
    </div>

    <!-- å…³é—­æŒ‰é’® -->
    <div
      @click="onClosePanel"
      class="p-1.5 rounded-md bg-red-500/20 transition-all duration-200 ease-in-out cursor-pointer hover:scale-110"
      title="å…³é—­é¢æ¿ï¼ˆ1å°æ—¶ï¼‰"
    >
      âœ•
    </div>
  </div>
</template>

<script lang="ts" setup>
import type { DynamicColors } from '../types'

interface Props {
  isDarkMode: boolean
  panelPinned: boolean
  isDebugMode: boolean
  dynamicColors: DynamicColors
}

interface Emits {
  toggleDarkMode: []
  togglePanelPin: []
  toggleDebugDialog: []
  closePanel: []
}

defineProps<Props>()
const emit = defineEmits<Emits>()

// äº‹ä»¶å¤„ç†å‡½æ•°
function onToggleDarkMode() {
  emit('toggleDarkMode')
}

function onTogglePanelPin() {
  emit('togglePanelPin')
}

function onToggleDebugDialog() {
  emit('toggleDebugDialog')
}

function onClosePanel() {
  emit('closePanel')
}
</script>